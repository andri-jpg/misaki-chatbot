# Misaki Live2D AI Chatbot

[https://github.com/user-attachments/assets/3a3430e2-23c5-48c2-92fb-0a334af33887](https://github.com/user-attachments/assets/3a3430e2-23c5-48c2-92fb-0a334af33887)

This project brings the character Misaki from the game *Blue Archive* to life as an interactive AI chatbot. It combines a Spine WebGL Live2D model with a Python backend for AI-powered conversation, **with support for both the Google Gemini API and local AI models**, and real-time Text-to-Speech (TTS) voice generation.

-----

## ‚ú® Features

  * **Flexible AI Backend:** Choose between the Google Gemini API for online conversation or run a fully private, offline chat experience with a local LLM.
  * **Interactive Live2D Model:** Misaki's model is rendered in the browser using Spine WebGL, allowing for smooth animations and interactions.
  * **Text-to-Speech (TTS):** Hear Misaki's responses with a synthesized voice generated by the GPT-SoVITS model.
  * **Voice Input:** A microphone button is included in the UI, with the logic for Speech-to-Text functionality.
  * **Simple Web Interface:** A clean and straightforward UI for chatting and triggering animations.

-----

## üöß Known Issues & Future Improvements

This project is currently in active development. While functional, there are several areas that require improvement. Contributions and suggestions are welcome\!

  * **Phoneme Lip Sync:** This is a high-priority feature. Currently, the mouth animation for talking is generic. The plan is to implement a system that analyzes the generated TTS audio in real-time to produce accurate mouth movements (visemes/phonemes) that sync with the sound.


-----

## üöÄ Setup & Configuration

This project supports two modes for the AI chat: using the Google Gemini API (online) or a local LLM (offline). Choose **one** of the options below to configure your chat backend.

### 1\. Choose Your AI Backend

#### Option A: Using Google Gemini API (Online)

This is the simplest way to get started.

1.  **Get a Gemini API Key:** Visit [Google AI Studio](https://aistudio.google.com/app/apikey) to create your free API key.
2.  **Configure in App:** Run the project. A settings panel will appear where you can paste your API key.

#### Option B: Using a Local LLM (Offline)

Run the entire chat experience offline on your own machine.

1.  **Download a Model:** Download a compatible Web LLM model (e.g., `.tflite`, `LiteLM`, or `.task` format). You can find pre-trained models like Gemma or TinyLlama from sources like [LiteRTCommunity](https://huggingface.co/litert-community).

2.  **Place the Model File:** Put the downloaded model file inside the `model/` directory in this project.

3.  **Update the Configuration:** Open the file `chatEngine/tflite.js` with a code editor. Find the `initLLM` function and change the `modelAssetPath` to the name of your downloaded model file.

    ```javascript
    export async function initLLM(options = {}) {
      const {
        // Change the path below to your model's filename
        modelAssetPath = './model/gemma-2b-it-int4-web.task', 
        maxTokens = 2048,
        temperature = 0.8,
        topK = 64,
        topP = 0.95,
        randomSeed = 101,
        // ... rest of the config
      } = options;
    ```

### 2\. Running the Project

You can run this project in two ways: with voice (TTS) or without.

#### Simple Mode (Chat Only, No Voice)

This is the quickest way to start chatting with Misaki.

1.  Ensure you have configured your AI backend (Gemini or Local) as described in the steps above.
2.  Run a local web server from the project's root directory. You can use extensions like VS Code's "Live Server" or run a simple Python server:
    ```bash
    python -m http.server
    ```
3.  Open the provided URL (usually `http://localhost:8000`) in your web browser.

#### Full Experience (Chat with TTS Voice)

To enable Misaki's voice, you also need to run the Python backend.

1.  **Follow all steps for Simple Mode first.**
2.  Open a new terminal in the project's root folder.
3.  **Install Backend Dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
4.  **Run the Backend Server:**
    ```bash
    python api_v2.py
    ```
5.  Refresh your browser. The application should now have voice output for Misaki's responses.

-----

## ‚ö†Ô∏è Disclaimer

> The Live2D model, character, and all related assets are copyrighted by the creators of Blue Archive (bluearchive.jp). This is a non-commercial fan project and I do not claim any ownership of these materials. If you are the copyright holder and would like this content removed, please contact me directly.

-----

## üôè Credits & Acknowledgements

This project would not be possible without the amazing work from the following open-source projects:

  * **AI Chat:** [Google Gemini API](https://ai.google.dev/) for the conversational model.
  * **Voice Generation:** [RVC-Boss/GPT-SoVITS](https://github.com/RVC-Boss/GPT-SoVITS) for the powerful Text-to-Speech model.
  * **Asset Extraction:** [K0lb3s-Datamines/Blue-Archive---Asset-Downloader](https://github.com/K0lb3s-Datamines/Blue-Archive---Asset-Downloader) for tools to access the game assets.
